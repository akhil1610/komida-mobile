<!DOCTYPE html>
<html ng-app="myApp">
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.2.min.css" />
        <link rel="stylesheet" type="text/css" href="css/init.css" />
        <link rel="stylesheet" href="css/sweetalert.css" type="text/css" />
        <title>TBOP MOBILE APPLICATION</title>
    </head>
    <body ng-controller="clientCtrl" initialisation>
        <form id="newClientForm" name="newClientForm" novalidate>
            <!--Applicant's Data-->
            <div data-role="header" class="header"></div>

          <!--   <div id="sub-header" class="sub-header ui-content" data-role="main" data-ajax="false"></div> -->
								
            <div data-role="page" id="pageAppData">
                
                <div id="content" data-role="main" class="ui-content" data-ajax="false">

                    <span class="label clear bold uppercase" data-i18n="messages.ApplicantData">Applicant's Data</span><br class="clear"/>
                    <div class="ui-grid-a ui-content client-info" style="text-align:center;" >
                        <div class="ui-block-a">
                            <div class="ncadPhoto" style="background-color:#f6f6f6;border:1px solid #ddd;margin:auto;margin-top:1em;">
                                <img class="ncadPhoto" id="ncadPhoto" ng-src="{{applicantdata.photo}}" alt="" />
                            </div>
                            <div data-role="controlgroup" data-type="horizontal">
                                <a href="#" ng-click="takePhoto()" class="ui-btn ui-btn-g ui-icon-check ui-btn-icon-left" data-i18n="messages.TakePhoto">Take Photo</a>
                                <a href="#" ng-click="removePhoto()" class="ui-btn ui-btn-r ui-icon-delete ui-btn-icon-left" data-i18n="messages.Delete">Delete</a>
                            </div>
                        </div>
                        <div class="ui-block-b">
                            <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                                <thead><tr><td></td><td></td></tr></thead>
                                <tbody>
                                    <tr>
                                        <td ng-click="magic()">
                                            <div class="ui-content" data-i18n="messages.FullName">
                                                Full Name
                                            </div>
                                        </td>
                                        <td>
                                            {{ applicantdata.fullname }}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="ui-content" data-i18n="messages.NickName">
                                                Nick Name
                                            </div>
                                        </td>
                                        <td>
                                            <div class="" tohide="input">
                                                <input type="text" tohide="input" ng-model="applicantdata.nickname" name="ncadNickname" id="ncadNickname" placeholder="Nick Name" data-i18n="[placeholder]messages.NickName" data-dependency="ncadGender" data-inline="true" maxlength="100" required/>
                                            </div> 
                                        </td>
                                    </tr>
                                    <tr>
                                        <td >
                                            <div class="ui-content" data-i18n="messages.Gender">
                                                Gender 
                                            </div>
                                        </td>
                                        <td>
                                            <div tohide="input">
                                                <select name="ncadGender" id="ncadGender" ng-model="applicantdata.gender" ng-options="option.value as option.name | translate for option in selectCodes.2 " required />
                                            </div>
                                            <div tohide="text">
                                                {{ applicantdata.gender }}
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td >
                                            <div class="ui-content" data-i18n="messages.FamilyCardNo">
                                                Family Card No.
                                            </div>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="applicantdata.familycardno" name="ncadFamilyCardNo" id="ncadFamilyCardNo" placeholder="Family Card No" data-dependency="ncadKTPNo" data-i18n="[placeholder]messages.FamilyCardNo" data-inline="true" maxlength="100" required/>
                                        </td>
                                    </tr>
                                  <!--  <tr><td data-i18n="messages.ClientID">Client ID</td><td><input type="number" ng-model="applicantdata.clientno" name="ncadClientNo" id="ncadClientNo" placeholder="Client ID" data-i18n="[placeholder]messages.ClientID" data-inline="true"  max="9999999999999999" required/></td></tr> -->
                                    <tr>
                                        <td >
                                            <div class="ui-content" data-i18n="messages.KTPNo">
                                                KTP NO.
                                            </div>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="applicantdata.ktpno" name="ncadKTPNo" id="ncadKTPNo" placeholder="KTP No" data-i18n="[placeholder]messages.KTPNo"  data-dependency="ncadDateofBirth" data-inline="true" max="9999999999999999" required/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td >
                                            <div class="ui-content" data-i18n="messages.AccountNumber">
                                                Act. No
                                            </div>
                                        </td>
                                        <td>
                                            <input type="number" name="ncadACTNo" id="ncadKTPNo" placeholder="Act. No" data-i18n="[placeholder]messages.AccountNumber" data-inline="true" max="9999999999999999" ng-disabled="true" required/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td >
                                            <div class="ui-content" data-i18n="messages.LoanNumber">
                                                Loan Number
                                            </div>
                                        </td>
                                        <td>
                                            <input type="number" name="ncadLoanNo" id="ncadLoanNo" placeholder="Loan Number" data-i18n="[placeholder]messages.LoanNumber" data-inline="true" max="9999999999999999" ng-disabled="true" required/>
                                        </td>
                                    </tr>
                                    <!-- <tr>
                                        <td >
                                            <div class="ui-content" data-i18n="messages.LoanType">
                                                Loan Type
                                            </div>
                                        </td>
                                        <td>
                                            <select name="ncadLoanType" id="ncadLoanType" ng-model="applicantdata.loantype" ng-options="option.value as option.name for option in LOAN_TYPE"  required />
                                        </td>
                                    </tr> -->
                                    <tr>
                                        <td>
                                            <div class="ui-content"  data-i18n="messages.DOB">
                                                Date of Birth
                                            </div>
                                        </td>
                                        <td>
                                            <input type="date" ng-model="applicantdata.dateofbirth" name="ncadDateofBirth" id="ncadDateofBirth" data-inline="true" required/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="ui-content" data-i18n="messages.PlaceofBirth">
                                                Place of Birth
                                            </div>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="applicantdata.placeofbirth" name="ncadPlaceofBirth" id="ncadPlaceofBirth" placeholder="Place of Birth" data-i18n="[placeholder]messages.PlaceofBirth" data-inline="true" maxlength="100" required/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="ui-content" data-i18n="messages.Age">
                                                Age
                                            </div>
                                        </td>
                                        <td>
                                            <div class="ui-content">
                                                {{adCalcAge()}}
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="ui-content" data-i18n="messages.HighestEducation">
                                                Highest Education
                                            </div>
                                        </td>
                                        <td>
                                            <select name="ncadHighestEducation" id="ncadHighestEducation" ng-model="applicantdata.highested" ng-options="option.value as option.name | translate for option in selectCodes.3" required></select>
                                        </td>
                                    </tr>
                                    <tr ng-show="apHighestEdOthers()">
                                        <td>
                                            <div class="ui-content"  data-i18n="messages.PleaseSpecify">
                                                Please specify:
                                            </div>
                                        </td>
                                        <td>
                                            <input type="text" ng-model="applicantdata.highestedothers" name="ncadHighestEducationOthers" id="ncadHighestEducationOthers" placeholder="Others" data-inline="true" maxlength="200" data-i18n="[placeholder]messages.Other"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="ui-content"  data-i18n="messages.AffectedByTsunami">
                                                Affected by Tsunami
                                            </div>
                                        </td> 
                                        <td>
                                            <label for="ncadAffectTsunami">{{applicantdata.tsunamiAffected | translate}}</label>
                                            <input type="checkbox" ng-model="applicantdata.tsunamiAffected" name="ncadAffectTsunami" id="ncadAffectTsunami" ng-true-value='YES' ng-false-value='NO'/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="ui-content"  data-i18n="messages.AffectedByQuake">
                                                Affected by Quake
                                            </div>
                                        </td> 
                                        <td>
                                            <label for="ncadAffectQuake">{{applicantdata.quakeAffected | translate}}</label>
                                            <input type="checkbox" ng-model="applicantdata.quakeAffected" name="ncadAffectQuake" id="ncadAffectQuake" ng-true-value='YES' ng-false-value='NO'/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="ui-content"  data-i18n="messages.HaveExternalSavings">
                                                Have External Savings Account
                                            </div>
                                        </td> 
                                        <td>
                                            <label for="ncadHaveSavings">{{applicantdata.haveSavings | translate}}</label>
                                            <input type="checkbox" ng-model="applicantdata.haveSavings" name="ncadHaveSavings" id="ncadHaveSavings" ng-true-value='YES' ng-false-value='NO'/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="ui-content"  data-i18n="messages.HaveExternalInsurance">
                                                Have External Insurance Account
                                            </div>
                                        </td> 
                                        <td>
                                            <label for="ncadHaveInsurance">{{applicantdata.haveInsurance | translate}}</label>
                                            <input type="checkbox" ng-model="applicantdata.haveInsurance" name="ncadHaveInsurance" id="ncadHaveInsurance" ng-true-value='YES' ng-false-value='NO'/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <br class="clear"/>
                        </div>
                    </div>
                    <a href="#pageAppData2" check-progress title='pageAppData' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div data-role="footer" class="footer" style="text-align:center;">
                </div><!-- data-position="fixed"-->
            </div>
    
            <!--Husband's Info-->
            <div data-role="page" id="pageAppData2">

                <div data-role="main" class="ui-content" data-ajax="false">
                    <span class="label clear bold uppercase" data-i18n="messages.HusbandInformation">Husband's Information</span><br class="clear"/>
                    <div class="ui-content">
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                            <thead><tr><td></td><td></td></tr></thead>
                            <tbody>
                                <tr>
                                    <td data-i18n="messages.MaritalStatus">Marital Status</td><td>
                                    <select name="ncadMaritalStatus" id="ncadMaritalStatus" ng-model="husbandinfo.maritalstatus" ng-options="option.value as option.name | translate for option in selectCodes.1" required />
                                    </td>
                                </tr> 
                                <tr ng-show="showHusband()"><td data-i18n="messages.HusbandName">Husband Name</td><td><input ng-model="husbandinfo.husbandname" type="text" name="ncadHusbandName" id="ncadHusbandName" placeholder="Husband Name" data-inline="true" maxlength="100" data-i18n="[placeholder]messages.HusbandName" required/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.HusbandIDNo">Husband ID No.</td><td><input type="number" ng-model="husbandinfo.husbandidno" name="ncadHusbandIdNo" id="ncadHusbandIdNo" placeholder="Husband ID No." data-inline="true" max="9999999999999999" data-i18n="[placeholder]messages.HusbandIDNo" required/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.LiveInHouse">Lives in House</td><td><label for="ncadLivesInHouse">{{husbandinfo.livesinhouse | translate}}</label><input type="checkbox" ng-model="husbandinfo.livesinhouse" name="ncadLivesInHouse" id="ncadLivesInHouse" ng-true-value='YES' ng-false-value='NO'/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.WhereDoesHeLive">Where does he live?</td><td><input ng-model="husbandinfo.whereis" type="text" name="ncadWhereHusband" id="ncadWhereHusband" placeholder="Where does he live?" data-inline="true" maxlength="150" data-i18n="[placeholder]messages.WhereDoesHeLive" required/></td></tr>
                                <tr ng-show="showHusband()">
                                    <td data-i18n="messages.HowOftenDoesHeComeHome">How often does he come home?</td>
                                    <td>
                                    <select name="ncadHowOftenHusband" id="ncadHowOftenHusband" ng-model="husbandinfo.howoften" ng-options="option.value as option.name | translate for option in selectCodes.6" required />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <a href="#pageAppData" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#pageAppData3" check-progress title='pageAppData2' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div class="footer" data-role="footer"></div><!-- data-position="fixed"-->
            </div>  
        
            <!--Household and Mother Info-->
            <div data-role="page" id="pageAppData3">

                <div data-role="main" class="ui-content" data-ajax="false">
                    <span class="label clear bold uppercase" data-i18n="messages.HouseholdMotherInfo">Household and Mother Info</span><br class="clear"/>
                    <div class="ui-content">
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                            <thead><tr><td></td><td></td></tr></thead>
                            <tbody>
                                <tr><td data-i18n="messages.NoOfHouseholdMember">No. of Household Members</td><td><input type="number" ng-model="housemotherinfo.noofmembers" name="ncadHouseholdMembers" id="ncadHouseholdMembers" placeholder="No Of Household Member" data-i18n="[placeholder]messages.NoOfHouseholdMember" data-inline="true" max="99" required/></td></tr>
                                <tr><td style="word-wrap:break-word;width:50%" data-i18n="messages.NoOfChildrenLessThan18YearOld">No. of Children &lt;18yrs<br/> in the household</td><td><input type="number" ng-model="housemotherinfo.noofchildren" name="ncadNoChildren" id="ncadNoChildren" placeholder="No Of Children < 18 years old" data-i18n="[placeholder]messages.NoOfChildrenLessThan18YearOld" data-inline="true" max="99" required/></td></tr>
                                <tr><td data-i18n="messages.MotherName">Mother's Name</td><td><input type="text" ng-model="housemotherinfo.mothername" name="ncadMotherName" id="ncadMotherName" placeholder="Mother's Name" data-i18n="[placeholder]messages.MotherName" maxlength="150" data-inline="true" required/></td></tr>
                                <tr><td data-i18n="messages.MotherDOB">Mother's Birth Date</td><td><input type="date" ng-model="housemotherinfo.motherdob" name="ncadMotherBirthdate" id="ncadMotherBirthdate" data-inline="true" required/></td></tr>
                                <tr><td data-i18n="messages.MotherAge">Mother's Age</td><td>{{hmiCalcMotherAge()}}</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <a href="#pageAppData2" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#pageAppData4" check-progress title='pageAppData3' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div class="footer" data-role="footer"></div>
            </div>
        
            <!--App Data Business Info-->        
            <div data-role="page" id="pageAppData4">


                <div data-role="main" class="ui-content" data-ajax="false">
                    <span class="label clear bold uppercase" data-i18n="messages.BusinessInfo">Business Info</span><br class="clear"/>
                    <div class="ui-content">
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                            <thead><tr><td></td><td></td></tr></thead>
                            <tbody>
                                <tr><td data-i18n="messages.BusinessType">Type of Business</td><td><input type="text" ng-model="businessinfo.typeofbusiness" name="ncadTypeBusiness" id="ncadTypeBusiness" placeholder="Type of Business" data-i18n="[placeholder]messages.BusinessType" maxlength="150" data-inline="true" required/></td></tr>
                                <tr><td data-i18n="messages.BusinessEquipment">Business Equipment</td><td><input type="text" ng-model="businessinfo.busequipment" name="ncadBusinessEquip" id="ncadBusinessEquip" placeholder="Business Equipment" data-i18n="[placeholder]messages.BusinessEquipment" maxlength="150" data-inline="true" required/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.JointBusinessWithHusband">Joint Business with Husband</td><td><input type="text" ng-model="businessinfo.jointbusiness" name="ncadJointBusiness" id="ncadJointBusiness" placeholder="Joint Business with Husband" data-i18n="[placeholder]messages.JointBusinessWithHusband" maxlength="150" data-inline="true" required/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.BusinessEquipment">Business Equipment</td><td><input type="text" ng-model="businessinfo.jbequipment" name="ncadBusinessEquip2" id="ncadBusinessEquip2" placeholder="Business Equipment" data-i18n="[placeholder]messages.BusinessEquipment" maxlength="150" data-inline="true" required/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.HusbandBusiness">Husband's Business</td><td><input type="text" ng-model="businessinfo.husbandbusiness" name="ncadHubandBusiness" id="ncadHubandBusiness" placeholder="Husband's Business" data-i18n="[placeholder]messages.HusbandBusiness" maxlength="150" data-inline="true" required/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.BusinessEquipment">Business Equipment</td><td><input type="text" ng-model="businessinfo.hbequipment" name="ncadBusinessEquip3" id="ncadBusinessEquip3" placeholder="Business Equipment" data-i18n="[placeholder]messages.BusinessEquipment" maxlength="150" data-inline="true" required/></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <a href="#pageAppData3" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#pageAddress" check-progress title='pageAppData4' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div class="footer" data-role="footer"></div>
            </div>

            <!--Address and Telephone Numbers-->               
            <div data-role="page" id="pageAddress">

                <div data-role="main" class="ui-content" data-ajax="false">
                    <span class="label clear bold uppercase" data-i18n="messages.AddrTelNo">Address and Telephone Numbers</span><br class="clear"/>
                    <div class="ui-content">
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                            <thead><tr><td></td><td></td></tr></thead>
                            <tbody>
                                <tr><td data-i18n="messages.RTRW">RT/RW</td><td><input type="text" ng-model="address.rtrw" name="adrtrw" id="adrtrw" placeholder="RT/RW" data-i18n="[placeholder]messages.RTRW" data-inline="true" maxlength="50" required/></td></tr>
                                <tr><td data-i18n="messages.StreetArea">Street/Area</td><td><input type="text" ng-model="address.streetarea" name="adstreetarea" id="adstreetarea" placeholder="Street/Area" data-i18n="[placeholder]messages.StreetArea" maxlength="50" data-inline="true" required/></td></tr>
                                <tr>
                                    <td data-i18n="messages.Center">Center</td>
                                    <td>
                                        <select name="adcenter" id="adcenter" ng-model="address.centerid" ng-options="option.value as option.name for option in selectCodes.CTR" ng-change="updateAddress()" required />
                                    </td>
                                </tr>
                                <tr>
                                    <td data-i18n="messages.Village">Village</td>
                                    <td>
                                        <input type="text" ng-model="address.village.name" name="advillage" id="advillage" placeholder="Village" data-i18n="[placeholder]messages.Village" maxlength="50" data-inline="true" required ng-readonly="true"/>
                                        <!-- <select name="advillage" id="advillage" ng-model="address.village" ng-options="option.value as option.name for option in selectCodes.VILL" required /> -->
                                    </td>
                                </tr>
                                <tr><td data-i18n="messages.SubDistrict">Sub-district</td><td><input type="text" ng-model="address.subdistrict" name="adsubdistrict" id="adsubdistrict" placeholder="Sub-district" data-i18n="[placeholder]messages.SubDistrict" maxlength="50" data-inline="true" required ng-readonly="true"/></td></tr>
                                <tr><td data-i18n="messages.District">District</td><td><input type="text" ng-model="address.district" name="addistrict" id="addistrict" placeholder="District" data-i18n="[placeholder]messages.District" data-inline="true" maxlength="50" required ng-readonly="true"/></td></tr>
                                <tr><td data-i18n="messages.Province">Province</td><td><input type="text" ng-model="address.province" name="adprovince" id="adprovince" placeholder="Province" data-i18n="[placeholder]messages.Province" data-inline="true" maxlength="50" required ng-readonly="true"/></td></tr>
                                <tr><td data-i18n="messages.PostalCode">Post code</td><td><input type="number" ng-model="address.postcode" name="adpostcode" id="adpostcode" placeholder="Post code" data-i18n="[placeholder]messages.PostalCode" data-inline="true" max="9999999999999999" required/></td></tr>
                                <tr><td data-i18n="messages.Landmark">Landmark</td><td><input type="text" ng-model="address.landmark" name="adlandmark" id="adlandmark" placeholder="Landmark" data-i18n="[placeholder]messages.Landmark" data-inline="true" maxlength="50" required/></td></tr>
                                <tr><td data-i18n="messages.ClientMobileNo1">Client Mobile No.1</td><td><input type="tel" ng-model="address.mobile1" name="admobile1" id="admobile1" data-i18n="[placeholder]messages.ClientMobileNo1" onclick="this.select();" placeholder="Client Mobile No.1" maxlength="20" data-inline="true" required/></td></tr>
                                <tr><td data-i18n="messages.ClientMobileNo2">Client Mobile No.2</td><td><input type="tel" ng-model="address.mobile2" name="admobile2" id="admobile2" data-i18n="[placeholder]messages.ClientMobileNo2" onclick="this.select();"  placeholder="Client Mobile No.2" maxlength="20" data-inline="true" required/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.HusbandMobileNo">Husb. Mobile No</td><td><input type="tel" ng-model="address.husbmobile" name="adhusbmobile" id="adhusbmobile" onclick="this.select();"  placeholder="Husb. Mobile No" data-i18n="[placeholder]messages.HusbandMobileNo" maxlength="20" data-inline="true" required/></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <a href="#pageAppData4" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#pageWelfareStatus" check-progress title='pageAddress' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div class="footer" data-role="footer"></div>
            </div>

            <!--Family Welfare Status-->  
            <div data-role="page" id="pageWelfareStatus">

                <div data-role="main" class="ui-content" data-ajax="false">
                    <span class="label clear bold uppercase" data-i18n="messages.FamilyWelfareStatus">Family Welfare Status</span><br class="clear"/>
                    <div class=" ">
                        <div>
                            <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                                <thead><tr><th><a href="#" class="ui-btn ui-btn-inline ui-icon-info ui-btn-icon-notext ui-corner-all ui-shadow ui-btn-h"></a>{{selectedWelfare.FWF_OCCUPATION | translate }}</th></tr></thead> <!--Examples of Applicant’s/Husband’s Business:-->
                                <tbody>
                                    <tr><td>{{selectedWelfare.FWF_DESC | translate }}</td></tr> <!--Driver, security, technician, book-keeper, administration in large shop/factory/office/school teacher on monthly salary, civil servant, owner of permanent workshop/restaurant/shop, bus owner, etc-->
                                </tbody>
                            </table>
                        </div>
                        <!-- <fieldset id="welfareid" data-role="controlgroup">
                            <label for="welfareRadio1" id="welfareRadio1label" data-i18n="messages.PreWelfare">Pre-welfare</label><input type="radio" ng-model="welfareStatus" name="welfaretype" id="welfareRadio1" value="{{familywelfare[0].FWF_TYPE_PK}}" ng-click="selectWelfare(0)" checked />
                            <label for="welfareRadio2" id="welfareRadio2label" data-i18n="messages.Welfare1">Welfare 1</label><input type="radio" ng-model="welfareStatus" name="welfaretype" id="welfareRadio2" value="{{familywelfare[1].FWF_TYPE_PK}}" ng-click="selectWelfare(1)"/>
                            <label for="welfareRadio3" id="welfareRadio3label" data-i18n="messages.Welfare2">Welfare 2</label><input type="radio" ng-model="welfareStatus" name="welfaretype" id="welfareRadio3" value="{{familywelfare[2].FWF_TYPE_PK}}" ng-click="selectWelfare(2)"/>
                        </fieldset>  -->
                        <div >
                            
                        </div>
                    </div> 
                </div>
                <div class="ui-content">
                    <table data-role="table" class="ui-responsive ui-shadow table-stroke ui-table ui-table-reflow">
                        <thead>
                            <tr>
                                <!-- <th>No.</th> -->
                                <th>Asset</th>
                                <th>Present Value</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr class="tfoot">
                                <!-- <th></th> -->
                                <th  style="text-align:right;">Total Value of Unproductive Assets</td>  
                                <th>{{ getTotalUnproVal() }}</th>
                            </tr>
                        </tfoot>
                        <tbody>
                            <tr ng-repeat="upa in unproassets | filter: { isNew: false }" > 
                                <!-- <td style="text-align: center;">{{ upa.index }}</td>  -->
                                <td> 
                                    <input id="" class="colVal" ng-blur=""  onclick="this.select();" type="text" ng-model="upa.asset" />
                                </td>
                                <td>
                                    <input id="" class="colVal" ng-blur=""  onclick="this.select();" ng-click="addNewUpro(upa.index)" type="tel" ng-model="upa.value"  ng-currency currency-symbol="{{currloc}}" deci-place="0"  />
                                </td>
                            </tr>  
                            <tr ng-repeat="upa in unproassets  | filter: { isNew: true }" > 
                                <!-- <td style="text-align: center;">{{ upa.index }}</td>  -->
                                <td> 
                                    <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
                                        <input id="" class="colVal" ng-blur=""  onclick="this.select();" type="text" ng-model="upa.asset" />                            
                                    </div>
                                </td>
                                <td>
                                    <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
                                        <input id="" class="colVal" ng-blur=""  onclick="this.select();" ng-click="addNewUpro(upa.index)" type="tel" ng-model="upa.value"  ng-currency currency-symbol="{{currloc}}" deci-place="0"  />
                                    </div>
                                </td>
                            </tr>   
                        </tbody>  
                    </table>
                    <a href="#pageAddress" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#pageWorkingCapital" check-progress title='pageWelfareStatus' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div class="footer" data-role="footer"></div>
            </div>
        
            <!--Working Capital-->  
            <div data-role="page" id="pageWorkingCapital">

                <div data-role="main" class="ui-content" data-ajax="false">
                    <span class="label clear bold uppercase" data-i18n="messages.OwnWorkCapital">Own Working Capital</span><br class="clear"/>
                    <div class="ui-content">
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                            <thead><tr><td></td><td></td></tr></thead>
                            <tbody>
                                <tr><td data-i18n="messages.Applicant">Applicant</td><td><input type="tel" onclick="this.select();"  ng-model="workcap.app" placeholder="0.00" max="9999999999" value="0" ng-currency currency-symbol="" deci-place="0" required/></td></tr>
                                <tr ng-show="showHusband()"><td data-i18n="messages.Husband">Husband</td><td><input type="tel" onclick="this.select();"  ng-model="workcap.husband" placeholder="0.00"  max="9999999999" value="0" ng-currency currency-symbol="" deci-place="0" required/></td></tr>
                                <tr class="bold"><th class="strong" data-i18n="messages.Total">Total</th><th>{{workcap.totalWorkCap() | currency}}</th></tr>
                            </tbody>
                        </table>
                        <p data-i18n="messages.NoteHdr">Note:<br/></p>
                        <ol><li data-i18n="messages.Note1">If more than 1 loan from bank or private institution (exclude money lender/co-operative), applicant not eligible.</li>
                            <li data-i18n="messages.Note2">Branch manager assesses whether above repayment will not overburden applicant in repayment of working capital.</li>
                        </ol>
                    </div>
                    <br class="clear"/><span class="label clear bold uppercase" data-i18n="messages.BorrowedFund">Borrowed Funds</span><br class="clear"/>
                    <div class="ui-content">
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                            <thead><tr><th data-i18n="messages.LoanFrom">Loan From</th><th data-i18n="messages.LoanFromName">Loan From Name</th><th data-i18n="messages.By">by</th><th data-i18n="messages.OriginalAmt">Original Amt.</th><th data-i18n="messages.Balance">Bal.</th><th data-i18n="messages.RepaymentPerWk">Repayment/Week</th><th data-i18n="messages.RepaymentPerMth">Repayment/Mth</th><th data-i18n="messages.Action">Action</th></tr></thead>
                            <tbody ng-repeat="fund in borrowedFunds">
                                <tr ng-hide="isSelectedFund($index)" ng-click="selectFund($index)"><td>{{getBFLoanFrom(fund.loanfrom) | translate }}</td><td>{{fund.loanfromname}}</td><td>{{getBFApplicant(fund.applicant) | translate }}</td><td>{{fund.originalamt | currency}}</td><td>{{fund.balance | currency}}</td><td>{{fund.repaymentperwk | currency}}</td><td>{{fund.repaymentpermth | currency}}</td><td><a href="#" class="ui-btn ui-shadow ui-corner-all ui-icon-delete ui-btn-icon-notext" ng-click="deleteFund($index)">Delete</a></td>
                                </tr>
                                <tr ng-show="isSelectedFund($index)" style="background: #3399ff;">
                                    <td>
                                        <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
                                            <select ng-model="fund.loanfrom" data-role="none" required>
                                                <option value="B">{{getBFLoanFrom('B') | translate }}</option>
                                                <option value="I">{{getBFLoanFrom('I') | translate }}</option>
                                                <option value="M">{{getBFLoanFrom('M') | translate }}</option>
                                                <option value="C">{{getBFLoanFrom('C') | translate }}</option>
                                            </select></div>
                                    </td>
                                    <td><input ng-model="fund.loanfromname" type="text" placeholder="Loan From Name" maxlength="150" required /></td>
                                    <td><div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
                                        <select ng-model="fund.applicant" data-role="none"  required>
                                            <option value="C">{{getBFApplicant('C') | translate }}</option>
                                            <option value="H">{{getBFApplicant('H') | translate }}</option>
                                            <option value="B">{{getBFApplicant('B') | translate }}</option>
                                        </select></div></td>
                                    <td><input ng-currency ng-model="fund.originalamt" type="text" placeholder="0.00" max="9999999999999999" required /></td>
                                    <td><input ng-currency ng-model="fund.balance" type="text" placeholder="0.00" max="9999999999999999" required /></td>
                                    <td><input ng-currency ng-model="fund.repaymentperwk" type="text" max="9999999999999999" placeholder="0.00" required /></td>
                                    <td><input ng-currency ng-model="fund.repaymentpermth" type="text" max="9999999999999999" placeholder="0.00" required /></td>
                                    <td><a ng-click="selectFund(-1)" href="#" class="ui-btn ui-shadow ui-corner-all ui-icon-check ui-btn-icon-notext">Confirm</a></td>
                                </tr>
                            </tbody>
                            <tbody>
                                <tr>
                                    <td>
                                        <select id="bfLoanFrom" ng-model="fundEntry.loanfrom" ng-init="fundEntry.loanfrom = 'B'">
                                            <option value="B">{{getBFLoanFrom('B') | translate }}</option>
                                            <option value="I">{{getBFLoanFrom('I') | translate }}</option>
                                            <option value="M">{{getBFLoanFrom('M') | translate }}</option>
                                            <option value="C">{{getBFLoanFrom('C') | translate }}</option>
                                        </select>
                                    </td>
                                    <td><input ng-model="fundEntry.loanfromname" type="text" placeholder="Loan From Name" data-i18n="[placeholder]messages.LoanFromName" maxlength="150"/></td>
                                    <td>
                                        <select id="bfLoanBy" ng-model="fundEntry.applicant" ng-init="fundEntry.applicant = 'C'">
                                        <option value="C">{{getBFApplicant('C') | translate }}</option>
                                        <option value="H">{{getBFApplicant('H') | translate }}</option>
                                        <option value="B">{{getBFApplicant('B') | translate }}</option>
                                        </select>
                                    </td>
                                    <td><input ng-currency ng-model="fundEntry.originalamt" type="text" max="9999999999999999" placeholder="0.00" /></td>
                                    <td><input ng-currency ng-model="fundEntry.balance" type="text" max="9999999999999999" placeholder="0.00" /></td>
                                    <td><input ng-currency ng-model="fundEntry.repaymentperwk" type="text" max="9999999999999999" placeholder="0.00" /></td>
                                    <td><input ng-currency ng-model="fundEntry.repaymentpermth" type="text" max="9999999999999999" placeholder="0.00" /></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                        <a href="#" ng-click="addFund()" class="ui-btn ui-btn-g ui-corner-all ui-shadow ui-icon-check ui-btn-icon-left" data-i18n="buttons.AddNewFund">Add New Fund</a>
                    </div>
                    <a href="#pageWelfareStatus" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#pageHousingIndex" check-progress title='pageWorkingCapital' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div class="footer" data-role="footer"></div><!-- data-position="fixed"-->
            </div>

            <!--Housing Index-->  
            <div data-role="page" id="pageHousingIndex">

                <div data-role="main" class="ui-content" data-ajax="false">
                    <!-- <span class="label clear bold uppercase" data-i18n="messages.HousingType">Housing Type</span><br class="clear"/>
                    <div class="ui-content">
                        <fieldset data-role="controlgroup">
                            <label for="houseType1">{{houseindices[1][0].HSE_NAME | translate }}</label><input type="radio" ng-model="houseinfo.housetype" name="housetype" id="houseType1" value="{{houseindices[1][0].HSE_VALUE}}" checked required >
                            <label for="houseType2">{{houseindices[1][1].HSE_NAME | translate }}</label><input type="radio" ng-model="houseinfo.housetype" name="housetype" id="houseType2" value="{{houseindices[1][1].HSE_VALUE}}">
                            <label for="houseType3">{{houseindices[1][2].HSE_NAME | translate }}</label><input type="radio" ng-model="houseinfo.housetype" name="housetype" id="houseType3" value="{{houseindices[1][2].HSE_VALUE}}">
                        </fieldset>
                    </div> -->
                    <br class="clear"/><span class="label clear bold uppercase" data-i18n="messages.HousingIndex">Housing Index</span><br class="clear"/>
                    <div class="ui-content" >
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke">
                            <thead>
                                <tr>
                                    <th data-i18n="messages.Homeless">Homeless</th>
                                    <th>
                                        <label for="ncadHomeless">{{applicantdata.homeless | translate}}</label>
                                        <input type="checkbox" ng-change="checkHomeless()" ng-model="applicantdata.homeless" name="ncadHomeless" id="ncadHomeless" ng-true-value='YES' ng-false-value='NO'/>
                                    </th>
                                </tr>
                            </thead>
                            <tr>
                                <td data-i18n="messages.HousingSize">House Size</td>
                                <td style="width:50%">
                                    <select id="ncHSSZ" ng-model="choices[0]" ng-options="hseind.HSE_VALUE as hseind.HSE_NAME | translate for hseind in houseindices.2" required></select>
                                </td>
                            </tr>
                            <tr>
                                <td data-i18n="messages.HousingCondition">House Condition</td>
                                <td style="width:50%">
                                    <select id="ncCOND" ng-model="choices[1]" ng-options="hseind.HSE_VALUE as hseind.HSE_NAME | translate for hseind in houseindices.3" required></select>
                                </td>
                            </tr>
                            <tr>
                                <td data-i18n="messages.RoofType">Roof Type</td>
                                <td style="width:50%">
                                    <select id="ncROOF" ng-model="choices[2]" ng-options="hseind.HSE_VALUE as hseind.HSE_NAME | translate for hseind in houseindices.4" required></select>
                                </td>
                            </tr>
                            <tr>
                                <td data-i18n="messages.WallType">Wall Type</td>
                                <td style="width:50%">
                                    <select id="ncWALL" ng-model="choices[3]" ng-options="hseind.HSE_VALUE as hseind.HSE_NAME | translate for hseind in houseindices.5" required></select>
                                </td>
                            </tr>
                            <tr>
                                <td data-i18n="messages.FloorType">Floor Type</td>
                                <td style="width:50%">
                                    <select id="ncFLOR" ng-model="choices[4]" ng-options="hseind.HSE_VALUE as hseind.HSE_NAME | translate for hseind in houseindices.6" required></select>
                                </td>
                            </tr>
                            <!-- <tr><td data-i18n="messages.ElectricitySource">Electricity Source</td><td style="width:50%"><select id="ncELEC" ng-model="choices[5]" ng-options="hseind.HSE_VALUE as hseind.HSE_NAME | translate for hseind in houseindices.7" required></select></td></tr>
                            <tr><td data-i18n="messages.WaterSource">Water Source</td><td style="width:50%"><select id="ncWATR" ng-model="choices[6]" ng-options="hseind.HSE_VALUE as hseind.HSE_NAME | translate for hseind in houseindices.8" required></select></td></tr> -->
                            <tbody>
                                <tr class="bold" style="background-color:#D6DF23">
                                    <td>
                                        <h1 data-i18n="messages.Total">TOTAL</h1>
                                    </td>
                                    <td>
                                        <h1>{{getTotal()}}</h1>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <a href="#pageWorkingCapital" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#pageHouseIncomeEst" check-progress title='pageHousingIndex' ng-click="rerender(2000)" class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div class="footer" data-role="footer"></div>
            </div>
        
            <!--House Income Est-->  
            <div data-role="page" id="pageHouseIncomeEst">

                <div data-role="main" class="ui-content" data-ajax="false">

                    <div data-role="popup" id="myPopup" style='background-color:white'><a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-h">Close</a><p>PER DAY/WK/MTH<br/>RP'000</p></div>
                    <div data-role="popup" id="myPopup2" style='background-color:white'><a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-h">Close</a><p>PER DAY/WK/2WK/MTH<br/>RP'000</p></div>
                    <div data-role="popup" id="myPopup3" style='background-color:white'><a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-h">Close</a><p>Total No. of Days worked in 1 Month</p></div>
                    <div data-role="popup" id="myPopup4" style='background-color:white'><a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-h">Close</a><p>Net revenue /net profit /remittance /pension per mth<br/>RP'000</p></div>
    
                    <span class="label clear bold uppercase" data-i18n="messages.HouseIncomeEstimate">House Income Est. (RP'000)</span><br class="clear"/>
                    <div class="ui-content">
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke ui-table ui-table-reflow">
                            <thead>
                                <tr>
                                    <th data-18n="messages.IncomeSource">Source</th>
                                    <th data-18n="messages.IncomeFixed">Fixed(Rp per Month)</th>
                                    <th data-18n="messages.IncomeVariable">Variable(Rp per Month)</th>
                                    <th data-18n="messages.IncomeSourceDetail" colspan="2">Details</th>
                                    <th data-18n="messages.IncomeTotal">Total(Rp per Month)</th>  
                                </tr>
                            </thead>

                            <tbody ng-repeat="income in houseIncomes" ng-init="income" ng-show="showSelect(income)">
                                <tr >  
                                    <td><div class="ui-content">{{ income.source }}</div></td>
                                    <td>
                                        <input id="inc{{income.source}}" class="colVal" ng-currency ng-model="income.fixed" 
                                        onclick="this.select();"  type="tel" ng-blur="checkNegative(income)" placeholder="" max="9999999999999999" required />
                                    </td>
                                    <td>
                                        <input id="incv{{income.source}}" class="colVal" ng-currency ng-model="income.variable" onclick="this.select();" type="tel" ng-blur="checkNegative(income)" placeholder="" max="9999999999999999" required />
                                    </td>
                                    <td>   
                                        <div id="incd{{income.source}}" class="colVal" ng-show="income.inctype == 'LAND'">
                                            <input ng-model="income.details" onclick="this.select();"  type="tel" placeholder="" max="9999999999999999" required />  
                                        </div>
                                    </td>
                                    <td>
                                        <div id="incs{{income.source}}" class="colVal"  ng-show="income.inctype == 'LAND'"> 
                                        <select ng-model="income.detaildesc" 
                                            ng-init="incomeDetailoptions[0]" 
                                            ng-options="item.value as item.label for item in incomeDetailoptions"    
                                            my-change /> 
                                        </div>
                                    </td>
                                    <td>
                                        <div class="ui-content">Rp {{income.fixed + income.variable | currency }}/mth</div>
                                    </td>
                                </tr> 
                            </tbody> 
                            <tfoot>
                                <tr class="tfoot"> 
                                    <th colspan="3" style="text-align: right;"></th>
                                    <th colspan="2">
                                        <div class="ui-content" data-18n="messages.IncomeNet">Net Income</div>
                                    </th>
                                    <th>
                                        <div class="ui-content">Rp {{ getTotalIncome() }} /mth</div>
                                    </th>
                                </tr>
                            </tfoot>
                        </table> 
                    </div>
                    <a href="#pageHousingIndex" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#pageProductMapping" check-progress title='pageHouseIncomeEst' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>
                </div>
                <div class="footer" data-role="footer"></div>
            </div>
            
            <!--Product Mapping-->  
            <div data-role="page" id="pageProductMapping">

                <div data-role="main" class="ui-content" data-ajax="false">
    
                    <span class="label clear bold uppercase" data-i18n="messages.ProductMapping">Product Mapping</span>
                    <br class="clear"/> 
                    <br class="clear"/>
                    <div class="ui-content"> 
                        <h2>Client</h2>
                        <h3 class="light-grey">Attendance</h3>
                        <div id="attendance" class="outterwrap">
                            <div class="innerwrap">

                            </div> 
                        </div> 
                        <div class="atttext">{{ attendance }} %</div>
                        <br> 

                        <h3 class="light-grey">Installment</h3>
                        <div id="installment" class="outterwrap">
                            <div class="innerwrap">

                            </div> 
                        </div> 
                        <div class="atttext">{{ installment }} %</div>
                        <br><br>

                        <h2>Group</h2>
                        <h3 class="light-grey">Attendance</h3>
                        <div id="group_attendance" class="outterwrap">
                            <div class="innerwrap">

                            </div> 
                        </div> 
                        <div class="atttext">{{ group_attendance }} %</div>
                        <br>

                        <h3 class="light-grey">Installment</h3>
                        <div id="group_installment" class="outterwrap">
                            <div class="innerwrap">

                            </div> 
                        </div> 
                        <div class="atttext">{{ group_installment }} %</div>
                        <br><br>

                        <h2>Center</h2>
                        <h3 class="light-grey">Attendance</h3>
                        <div id="center_attendance" class="outterwrap">
                            <div class="innerwrap">

                            </div> 
                        </div> 
                        <div class="atttext">{{ center_attendance }} %</div>
                        <br>
                        
                        <h3 class="light-grey">Installment</h3>
                        <div id="center_installment" class="outterwrap">
                            <div class="innerwrap">

                            </div> 
                        </div> 
                        <div class="atttext">{{ center_installment }} %</div>

                    </div>
                    <br class="clear"/>
                    <br class="clear"/>
                    <br class="clear"/>
                    <br class="clear"/>
                    <div class="ui-content">
                        <div class="">
                            <!-- LOAN TYPES -->
                            <div ng-repeat="loan in loans track by loan.LTY_PK" class="ui-grid-33 marg-btm-20"  ng-if="conflictingLoanValidation(loan)">
                                <a href="#" ng-click="viewloanproducts($index, $event)" class="loan-trans">
                                    <table data-role="table" class="ui-responsive box-active loan-box ui-shadow table-stroke"  >
                                        <thead>
                                            <tr>
                                                <th class="box-header">
                                                    <div class="lineh-32 ">
                                                        {{loan.LTY_DESCRIPTION}}  
                                                        <div class="loan-check" ng-click="loanSelected(loan,$event)">
                                                            <i ng-show="loan.isSelected" class="dark-blue right fa fa-check fa-2x"></i>
                                                        </div>
                                                        <i ng-show="groupCompleted(group)" class="dark-blue right fa fa-check-square fa-2x"></i>
                                                    </div>
                                                    
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody class="box-body">
                                            <tr>
                                                <td > 
                                                    <div class="ui-content bold center group-block-amt" >
                                                        <h1><i class="fa fa-plus"></i></h1>
                                                    </div>
                                                    <div class="group-client left">
                                                        <i class="fa fa-repeat"></i>0
                                                    </div>
                                                    <div class="group-status right">
                                                        <span>Min Loan</span> :<b>{{ loan.LTY_MIN_LOAN_AMOUNT }}</b>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </a>
                            </div>
                        </div>
                        <br class="clear"/>
                        <table id="productmappingdetails" data-role="table" ng-model="activeloan" class="ui-responsive ui-shadow table-stroke ui-table">
                            <thead>
                                <tr> 
                                    <th data-i18n="messages.LoanAmt">Loan Amount</th>
                                    <th data-i18n="messages.Maturity">Maturity</th>
                                </tr>
                            </thead>                            
                            <tbody>
                                <tr> 
                                    <td>
                                        <div class="ui-content" ng-show="activeloan.isSelected">
                                            {{ activeloan.selecteddetais.loanamt | currency }}
                                        </div>
                                        <div  ng-hide="activeloan.isSelected">
                                            <input id="activeloanAmount{{activeloan.LTY_PK}}" type="number" ng-model="activeloan.selecteddetais.loanamt" placeholder="{{ activeloan.LTY_MIN_LOAN_AMOUNT }}" />
                                        </div>
                                    </td>
                                    <td style="width:21%">  
                                        <div class="ui-content" ng-show="activeloan.isSelected">
                                            {{ activeloan.selecteddetais.loanmaturity.value }}
                                        </div>
                                        <div  ng-hide="activeloan.isSelected">
                                            <select 
                                                id="activeloanMaturity{{activeloan.LTY_PK}}" 
                                                name="activeloanMaturity{{activeloan.LTY_PK}}" 
                                                class="sel-activeloanmat"
                                                ng-model="activeloan.selecteddetais.loanmaturity" 
                                                ng-init="activeloan.selecteddetais.loanmaturity = activeloan.selecteddetais.loanmaturity || options[0].value"
                                                ng-options="item.value for item in activeloan.maturityOptions"
                                                my-change
                                                required>
                                            </select>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <br class="clear"/>
                        <table data-role="table" ng-model="activeloan" class="ui-responsive ui-shadow table-stroke ui-table">
                            <thead>
                                <tr> 
                                    <th data-i18n="messages.LoanPurpose">Loan Purpose</th> 
                                </tr>
                            </thead>                            
                            <tbody>
                                <tr>  
                                    <td>  
                                        <div class="ui-content" ng-show="activeloan.isSelected">
                                            {{ activeloan.selecteddetais.loanpurpose.name }}
                                        </div>
                                        <div  ng-hide="activeloan.isSelected">
                                            <select 
                                                id="activeloanPurpose{{activeloan.LTY_PK}}" 
                                                name="activeloanPurpose{{activeloan.LTY_PK}}" 
                                                class="sel-activeloanmat"
                                                ng-model="activeloan.selecteddetais.loanpurpose" 
                                                ng-init="activeloan.selecteddetais.loanpurpose = activeloan.selecteddetais.loanpurpose || options[0].value"
                                                ng-options="item.name for item in loanpurpose | filter: {loan: activeloan.LTY_PK }"
                                                my-change
                                                required>
                                            </select>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <br class="clear"/>
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke ui-table">
                            <thead>
                                <tr>
                                    <th data-i18n="messages.Select">Select</th>
                                    <th data-i18n="messages.ProductName">Product Name</th>
                                    <th data-i18n="messages.ProductSavingpwk">Saving per Week</th>
                                    <th data-i18n="messages.Maturity">Maturity</th>
                                </tr>
                            </thead>                            
                            <tbody> 
                                <tr ng-repeat="product in activeloan.products track by product.PRM_PK" >
                                    <td>
                                        <div class="ui-content">
                                            <input type="checkbox" 
                                                class="ui-btn ui-shadow ui-corner-all"
                                                ng-model="product.isSelected" 
                                                name="product{{ product.PRM_PK}}" 
                                                id="product{{ product.PRM_PK}}"
                                                ng-true-value="YES" 
                                                ng-false-value="NO" 
                                                data-role="none"
                                                ng-disabled="product.isMandatory=='Y' || activeloan.isSelected"
                                                ng-change="checkboxChange(product.isSelected)" />
                                            <label for="product{{product.PRM_PK}}">&nbsp;</label>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="ui-content">
                                           {{ product.PRM_NAME | translate }}{{ " (" + product.PRM_CODE + ")" }}
                                        </div>
                                    </td> 
                                    <td>
                                        <div ng-show="product.PRM_CODE=='002.0007' && product.isSelected != 'NO'" >
                                            <div ng-show="!activeloan.isSelected">
                                                <select name="newprodpay{{activeloan.CLL_PK}}" 
                                                    id="newprodpay{{ activeloan.CLL_PK }}"  
                                                    class="newprod"
                                                    ng-model="product.selectedSavingperWeek" 
                                                    my-change
                                                    ng-change="refreshSelSav(loan.CLL_PK,product)"
                                                    ng-options="pay.value as pay.name for pay in feastrepay"></select>
                                            </div>
                                            <div ng-show="activeloan.isSelected">
                                                {{ product.selectedSavingperWeek | currency }} / Week
                                            </div>
                                        </div>
                                    </td>                                         
                                    <td ng-if="product.showMaturityOptions && product.maturityOptions.length > 1">
                                        <div ng-hide="activeloan.isSelected">
                                            <select 
                                                id="maturityOption{{ product.PRM_PK}}" 
                                                name="maturityOption{{ product.PRM_PK }}"  
                                                ng-model="product.selectedMaturityOption"
                                                ng-change="selectOption({{$index}}, product)"
                                                ng-options="item for item in product.maturityOptions "
                                                my-change
                                                required>
                                                <option value="">-- please Select --</option>
                                            </select>
                                        </div>
                                        <div class="ui-content" ng-show="activeloan.isSelected">
                                            {{ product.selectedMaturityOption }}
                                        </div>
                                    </td>
                                    <td  ng-hide="product.showMaturityOptions">
                                        <div class="ui-content">{{ activeloan.selecteddetais.loanmaturity.value }} Weeks</div>
                                    </td>
                                </tr>
                            </tbody>                            
                        </table>                       
                    </div>
                    <a href="#pageHouseIncomeEst" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#loanSummary" check-progress title='pageProductMapping' class="ui-btn-next ui-btn ui-shadow ui-corner-all ">Next</a>  
                </div>
                <div class="footer" data-role="footer"></div>
            </div>
            <!--Summary-->  
            <div data-role="page" id="loanSummary">

                <div data-role="main" class="ui-content" data-ajax="false">
                    <span class="label clear bold uppercase" data-i18n="messages.Summary">SUmmary</span><br class="clear"/>
                    <div class="ui-content"> 
                        <table data-role="table" class="ui-responsive ui-shadow table-stroke ui-table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th> 
                                </tr>
                            </thead>                            
                            <tbody> 
                                <tr>
                                    <td> 
                                        <div class="ui-content" data-i18n="messages.FullName">
                                            Full Name
                                        </div>
                                    </td>  
                                    <td>
                                        <div class="ui-content">
                                            {{ applicantdata.fullname }}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="ui-content" data-i18n="messages.Age">
                                            Age
                                        </div>
                                    </td>
                                    <td>
                                        <div class="ui-content">
                                            {{  applicantdata.age }}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="ui-content" data-i18n="messages.HousingIndex">
                                            Housing Index
                                        </div>
                                    </td>
                                    <td>
                                        <div class="ui-content">
                                            {{ getTotal() }}
                                        </div>
                                    </td>
                                </tr>
                                 <tr>
                                    <td>
                                        <div class="ui-content" data-i18n="messages.IncomeIndex">
                                            Income Index
                                        </div>
                                    </td>
                                    <td>
                                        <div class="ui-content">
                                            {{ getIncomeCapita() }}
                                        </div>
                                    </td>
                                </tr>
                                <tr ng-repeat="loan in selectedLoans">
                                    <td colspan="2">
                                        <table data-role="table" class="ui-responsive ui-shadow table-stroke ui-table">
                                            <thead>
                                                <tr>
                                                    <th colspan="2">{{ loan.LTY_DESCRIPTION }}</th> 
                                                </tr>
                                            </thead>                            
                                            <tbody> 
                                                <tr>
                                                    <td> 
                                                        <div class="ui-content" data-i18n="messages.LoanAmt">
                                                            Loan Amount
                                                        </div>
                                                    </td>   
                                                    <td>
                                                        <div class="ui-content" >
                                                            {{ loan.selecteddetais.loanamt }}
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td> 
                                                        <div class="ui-content" data-i18n="messages.Maturity">
                                                            Maturity
                                                        </div>
                                                    </td>   
                                                    <td>
                                                        <div class="ui-content" >
                                                            {{ loan.selecteddetais.loanmaturity.value }}  Weeks
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2"> 
                                                        <table data-role="table" class="ui-responsive ui-shadow table-stroke ui-table" style="    background: white;">
                                                            <thead>
                                                                <tr>
                                                                    <th data-i18n="messages.ProductName">Product Name</th>  
                                                                    <th data-i18n="messages.WidthdrawalPolicy">Withdrawal Policy</th> 
                                                                    <th data-i18n="messages.ClosingPolicy">Closing Policy</th> 
                                                                    <th data-i18n="messages.ClosingFee">Closing Fee</th> 
                                                                    <th data-i18n="messages.DepositAmt">Deposit Amount</th> 
                                                                </tr>
                                                            </thead>                            
                                                            <tbody> 
                                                                <tr ng-repeat="product in loan.products">
                                                                    <td> 
                                                                        <div class="ui-content">
                                                                            {{ product.PRM_DESCRIPTION }}
                                                                        </div>
                                                                    </td>   
                                                                    <td>
                                                                        <div class="ui-content" >
                                                                            {{ product.withdrawPolicy }}
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="ui-content" >
                                                                            {{ product.closingPolicy }}
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="ui-content" >
                                                                            {{ product.PRM_CLOSING_CHARGES }}
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="ui-content" >
                                                                            {{ product.depositAmt }} 
                                                                        </div>
                                                                    </td>
                                                                </tr> 
                                                            </tbody>
                                                        </table>
                                                    </td>    
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td> 
                                </tr>

                            </tbody>                            
                        </table>
                    </div> 
                    <a href="#pageProductMapping" data-ajax="false"  class="ui-btn-back ui-btn ui-shadow ui-corner-all ">Back</a>
                    <a href="#"  class="ui-btn-next ui-btn ui-shadow ui-corner-all " ng-click="actionSubmit()" >Submit</a>
                </div>
                <div class="footer" data-role="footer"></div>
            </div>
            <!--Group Selection-->  
            <div data-role="page" id="selectGroup">

                <div data-role="main" class="ui-content" data-ajax="false">

                    <span class="label clear bold uppercase" data-i18n="messages.AssignGroup">Assign to Group</span>
                    <br class="clear"/>
                    <div data-type="vertical" class="left ui-grid-50" style="margin-left: 1em;">
                        <!-- <span  style="" class="label clear bold uppercase" data-i18n="messages.Group">Group</span> -->
                        <br class="clear"/>
                        <!-- <div class="detlabel" data-i18n="messages.Centre">Centre:</div>
                        <span>&nbsp;&nbsp;<b>{{ user.currentVillage }}</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                    </div>
                    <br class="clear"/>
                    <table  ng-show="countAvailable()" data-role="table" class=" ui-responsive ui-shadow table-stroke" >
                        <thead><tr><th colspan="3" >&nbsp;</th></tr></thead>    
                        <tbody>
                            <tr>
                                <td colspan=2>
                                    <select name="createGroup" id="createGroup" ng-model="createGroup" ng-options="idx as client.CLT_FULL_NAME for (idx,client) in available" />
                                </td>
                                <td colspan=1><a href="#" class='ui-btn ui-icon-plus ui-btn-icon-left ui-corner-all ui-btn-g' ng-show="countAvailable()" ng-click="createNewGroup()">{{ "Make" | translate }} {{available[createGroup].CLT_FULL_NAME}} {{ "Leader of New Group" | translate }}</a></td>
                            </tr>
                            <tr>
                                <td colspan=2>
                                    <select name="addToGroup" id="addToGroup" ng-model="currGroup" ng-options="grp.GROUP_ID as grp.GROUP_ID for grp in savedGrps" />
                                </td>
                                <td colspan=1><a href="#" class='ui-btn ui-icon-plus ui-btn-icon-left ui-corner-all ui-btn-g' ng-show="countAvailable()" ng-click="addToExistingGroup()">{{ "ADD" | translate }} {{available[createGroup].CLT_FULL_NAME}} {{ "TO GROUP" | translate }} {{currGroup}}</a></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="grid">
                        <div class="grid-item left ui-grid-50" ng-repeat="group in savedGrps track by $index" ng-init="parentindex = $index">
                            <div class="ui-content">
                                <table data-role="table" class="white-bg ui-responsive ui-shadow table-stroke" >
                                    <thead>
                                        <tr>
                                            <th class="lightblue-bg">{{ grouptext }} <strong>{{group.GROUP_ID}}</strong></th>
                                            <!-- <th class="lightblue-bg" data-i18n="messages.Member">Members</th> -->
                                            <th class="lightblue-bg" style="width: 35%;text-align:right;" >{{ actiontext }}</th></tr></thead>
                                    <tbody>
                                        <!-- existing groups -->
                                        <tr >
                                            <td colspan="2" style="width:40%" class="group-members">
                                                <div class="left width-100 ">
                                                    <div class="left">
                                                        <a href="#" class="ui-btn ui-icon-user ui-corner-all ui-btn-inline ui-btn-g ui-btn-icon-notext"></a> 
                                                        
                                                    </div>
                                                    <div class="left marg-top-10">
                                                        {{getLeaderOf(group).CLT_FULL_NAME}}
                                                        <br><span class="subtext">({{getLeaderOf(group).CLT_OTH_REG_NO}})</span>
                                                    </div> 
                                                    <div class="right" ng-if="getLeaderOf(group).CLL_MOB_NEW==1">
                                                        <a href="#" class="ui-btn ui-icon-delete ui-btn-icon-left ui-corner-all ui-btn-inline ui-btn-r small-text white-text" ng-click="removeClient(parentindex,getLeaderOf(group))">Remove</a>
                                                    </div>
                                                </div>
                                                <div class="left width-100" ng-repeat="mem in filterGroupNames(group.MEMBERS)">
                                                    <div class="left">
                                                        <a href="#" class="ui-btn ui-icon-user ui-corner-all ui-btn-inline ui-btn-icon-notext" ng-class="{'ui-btn-g':(mem.CLL_IS_GROUP_LEADER=='Y'),'ui-btn-tl':(mem.CLL_iS_GROUP_LEADER!='Y'&&mem.CLL_MOB_NEW==1)}" ng-click="changeLeader(mem,group)"></a>
                                                    </div>
                                                    <div class="left marg-top-10">
                                                        <span ng-class="{bold:mem.CLL_MOB_NEW==1}">{{mem.CLT_FULL_NAME}}</span>
                                                        <br><span class="subtext">({{mem.CLT_OTH_REG_NO}})</span>
                                                    </div>
                                                    <div class="right" ng-if="mem.CLL_MOB_NEW==1">
                                                        <a href="#" class="ui-btn ui-icon-delete ui-btn-icon-left ui-corner-all ui-btn-inline ui-btn-r small-text white-text" ng-click="removeClient(parentindex,mem)">Remove</a>
                                                    </div>
                                                </div>                                       <!--  <br/><strong>{{ "Members in Group" | translate }}:</strong> {{countMembers(group)}} -->
                                            </td><!-- 
                                            <td class="loanGroup" style="width:40%">
                                                
                                            </td> -->
                                            <!-- <td style="width:20%">
                                                <a href="#" class="ui-btn ui-icon-delete ui-btn-icon-left ui-corner-all ui-btn-inline ui-btn-r small-text" ng-click="removeGroup($index)" ng-show="newInGrp(group)" data-i18n="messages.RemoveNewMembers">Remove<Br>New Members</a>
                                            </td> -->
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <a href="client.html" data-ajax="false" class="acd-link">
                        <div class="addclientdone hide" data.i18n="message.Done">
                            Done
                        </div>
                    </a>
                </div>
            </div>
            
            
            <div data-role="page" data-dialog="true" id="pageCancel" style="background:black !important;">
                <div class="ui-content" style="background:#fff">
                  <span data-i18n="messages.ReturnToDashboardWithoutSavingClient">Return to dashboard without saving New Client?</span>
                    <a href="dashboard.html" class="ui-btn ui-btn-r ui-corner-all ui-shadow ui-icon-check ui-btn-icon-left" data-ajax="false" data-i18n="buttons.ReturnToDashboard">Return to Dashboard</a>
                    <a href="#" class="ui-btn ui-btn-g ui-corner-all ui-shadow ui-icon-delete ui-btn-icon-left" onclick="navBack()" data-i18n="buttons.Cancel">Cancel</a>
                </div>
            </div>
        </form>

        <!-- script -->
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/jquery.mobile-1.4.2.min.js"></script>
        <script type="text/javascript" src="js/load_template.js"></script>
        <script type='application/javascript' src='js/fastclick.js'></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/angular.min.js"></script>
        <script type="text/javascript" src="js/ng-currency.min.js"></script>

        <script type="text/javascript" src="js/filemanager.js"></script>
        <script type="text/javascript" src="js/properDB.js"></script>
        <script type="text/javascript" src="js/initDB.js"></script>
        <script type="text/javascript" src="js/moment.min.js"></script>
        <script type="text/javascript" src="js/app_util.js"></script>
        <script type="text/javascript" src="js/app_newloan.js"></script>
        <script type="text/javascript" src="js/i18next-1.8.0.js"></script>
        <script type="text/javascript" src="js/ln.js"></script>
        <script type="text/javascript" src="js/mansory.min.js"></script>
        <script type="text/javascript" src="js/angular-translate.js"></script>      
        <script type="text/javascript" src="js/angular-translate-loader-static-files.js"></script>          
        
        
    </body>
</html>
